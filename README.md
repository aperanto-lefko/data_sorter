# Инструкция по запуску

## Требования
- Java 21
- Maven

## Зависимости

Проект использует следующие библиотеки:

| Библиотека | Версия | Описание |
|------------|--------|----------|
| [Lombok](https://projectlombok.org/) | 1.18.38 | Генерация boilerplate-кода |
| [SLF4J](https://www.slf4j.org/) | 2.0.12 | Логирование (API) |
| [Logback](https://logback.qos.ch/) | 1.4.14 | Реализация логирования |
| [JUnit Jupiter](https://junit.org/junit5/) | 5.9.3 | Тестирование |
| [AssertJ](https://assertj.github.io/doc/) | 3.22.0 | Утверждения для тестов |


## Сборка проекта

1. Клонируйте репозиторий:
   ```bash
   git clone <ссылка на репозиторий>
   ```

2. Перейдите в директорию проекта:
   ```bash
   cd <директория проекта>
   ```

3. Выполните сборку:
   ```bash
   mvn clean package
   ```

⚠️ **Рекомендуется запускать программу в PowerShell**.  
Для корректного отображения логов на русском языке выполните:
```powershell
chcp 65001
```

## Запуск программы

После сборки выполните команду:
```powershell
java -jar .\DataSorter-1.0-SNAPSHOT.jar [опции] файл1 файл2 ... файлN
```

## Опции командной строки

| Опция              | Описание                                                                 |
|--------------------|--------------------------------------------------------------------------|
| `-o <путь>`        | Путь для выходных файлов (по умолчанию текущая директория)               |
| `-p <префикс>`     | Префикс имён выходных файлов (по умолчанию `""`)                         |
| `-a`               | Режим добавления в существующие файлы (по умолчанию перезапись)          |
| `-s`               | Краткая статистика (количество элементов каждого типа) - вывод в консоль |
| `-f`               | Полная статистика (количество + дополнительная информация) - вывод в консоль               |

⚠️ Если не указана ни одна из опций `-s` или `-f`, статистика не выводится.


## Примеры использования

**Базовый пример:**
```powershell
java -jar .\DataSorter-1.0-SNAPSHOT.jar input1.txt input2.txt
```

**С указанием пути и префикса:**
```powershell
java -jar .\DataSorter-1.0-SNAPSHOT.jar -o /some/path -p result_ input.txt
```

**С полной статистикой и добавлением в существующие файлы:**
```powershell
java -jar .\DataSorter-1.0-SNAPSHOT.jar -f -a data1.txt data2.txt
```

## Особенности реализации

### Обработка ошибок
Все возможные ошибки (отсутствие файлов, некорректные аргументы) обрабатываются с выводом понятных сообщений.

### Логирование
Дополнительно помимо вывода в консоль логирование записывается в файл application.log

### Определение типов данных

- **Целые числа:**  
  Соответствуют регулярному выражению:
  ```regex
  ^-?\d+$
  ```

- **Вещественные числа:**  
  Соответствуют регулярному выражению:
  ```regex
  -?(\d+\.\d*|\.\d+|\d+)([eE][-+]?\d+)?
  ```

- **Строки:**  
  Всё остальное.

### Статистика

- **Краткая (`-s`)**  
  Количество элементов каждого типа.

- **Полная (`-f`)**
    - Для чисел: минимальное и максимальное значение, сумма, среднее значение.
    - Для строк: длина самой короткой и самой длинной строки.